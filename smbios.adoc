[[smbios]]
== SMBIOS Requirements

The System Management BIOS (SMBIOS) specification defines a standard format for presenting management information about an implentation, mostly focusing on hardware components.

This section defines the BRS-I mandatory and optional SMBIOS requirements
on top of cite:[SMBIOS], and is optional and recommended for BRS-B. Additional non-normative guidance may be found in the <<smbios-guidance, appendix>>.

.*SMBIOS structures in a conforming implementation*
[cols="1,3,2,4", width=95%, align="center", options="header"]
|===
| Type | SMBIOS Structure                          | Status      | Note
| 02   | Baseboard/Module Information              | Recommended |
| 03   | System Enclosure/Chassis                  | Recommended | Relaxes DMTF requirement.
| 08   | Port Connector Information                | Recommended | When physical ports present.
| 09   | System Slots                              | Conditional | Required when expansion slots present.
| 11   | OEM Strings                               | Recommended |
| 13   | BIOS Language Information                 | Recommended |
| 14   | Group Associations                        | Recommended | To describe associations between SMBIOS types.
| 38   | IPMI Device Information                   | Conditional | Required when IPMIv1.0 host interface present.
| 39   | System Power Supplies                     | Recommended | For servers.
| 41   | Onboard Devices Extended Information      | Recommended |
| 42   | Redfish Host Interface                    | Conditional | Required when Redfish host interface present.
| 43   | TPM Device                                | Conditional | Required when TPM present.
| 44   | Processor Additional Information | Required    |
| 45   | Firwmare Inventory Information            | Recommended |
| 46   | String Property                           | Recommended |
|===

=== Type 44 Processor-Specific Data

The processor-specific data structure fields are defined to follow the standard Processor-Specific Block fields (cite:[SMBIOS], Section 7.45.1).

The structure is defined in a manner consistent with the DMTF specification
language (cite:[SMBIOS]), and is valid for processors declared as
architecture 07h (64-bit RISC-V) only.

[cols="2,2,3,2,2,4", width=95%, align="center", options="header"]
|===
| Offset | Version | Name      | Length | Value   | Description
| 00h| 0100h|Revision|WORD|Varies|See <<smbios-psd-ver>>.
| 02h| 0100h| Hart ID| QWORD| Varies| The ID of this RISC-V Hart
| 0Ah| 0100h| Boot Hart| BYTE| Boolean| 1: This is boot hart to boot system +
0: This is not the boot hart
| 0Bh| 0100h| Machine Vendor ID | QWORD| Varies| The vendor ID of this
RISC-V Hart
| 13h| 0100h| Machine Architecture ID| QWORD| Varies| Base
microarchitecture of the hart. Value of 0 is possible to indicate the field is
not implemented. The combination of Machine Architecture ID and Machine Vendor
ID should uniquely identify the type of hart microarchitecture that is implemented.
| 1Bh| 0100h| Machine Implementation ID| QWORD| Varies| Unique encoding
of the version of the processor implementation. Value of 0 is possible to indicate
the field is not implemented. The Implementation value should reflect the design of
the RISC-V Hart.
|===

[[smbios-psd-ver]]
=== Processor-Specific Data Structure Versioning

The processor-specific data structure begins with a revision field to allow for future extensibility in a backwards-compatible manner.

The minor revision is to be incremented anytime new fields are added in a backwards-compatible manner. The major revision is to be incremented on backwards-incompatible changes.

[cols="1,1,1,1,3", width=95%, align="center", options="header"]
|===
| Version | Bits 15:8+
Major revision
| Bits 7:0+
Minor revision
| Combined | Description
| v1.0 | 01h | 00h | 0100h | First BRS-defined definition
|===
